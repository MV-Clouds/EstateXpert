<!--
  description       : Display Property component to display all the properties
  author            : Rachit Shah
  last modified on  : 06-19-2024
-->
<template>

    <template if:true={isLoading}>
        <c-spinner-component></c-spinner-component>
    </template>

    <div class="main-card">
        <div>
            <div class="filter-search-container">
                <div class="filter-section">
                    <div class="search-bar">
                        <lightning-input variant="label-hidden" type="search" placeholder="Enter listing name"
                            value={searchTerm} onchange={handleSearch}></lightning-input>
                    </div>
                </div>
                <div class="header-actions">
                    <div class="view-buttons">
                        <div class="tab-btns">
                            <ul>
                                <li class="tab-div active-tab-div" onclick={handleMenuTabClick} data-tab-id="1">
                                    <svg class="activeSvg menusvg" width="24" height="14" viewBox="0 0 24 14"
                                        fill="none" xmlns="http://www.w3.org/2000/svg">
                                        <path data-tab-index="1"
                                            d="M0 8.33337H2.66667V5.66671H0V8.33337ZM0 13.6667H2.66667V11H0V13.6667ZM0 3.00004H2.66667V0.333374H0V3.00004ZM5.33333 8.33337H24V5.66671H5.33333V8.33337ZM5.33333 13.6667H24V11H5.33333V13.6667ZM5.33333 0.333374V3.00004H24V0.333374H5.33333ZM0 8.33337H2.66667V5.66671H0V8.33337ZM0 13.6667H2.66667V11H0V13.6667ZM0 3.00004H2.66667V0.333374H0V3.00004ZM5.33333 8.33337H24V5.66671H5.33333V8.33337ZM5.33333 13.6667H24V11H5.33333V13.6667ZM5.33333 0.333374V3.00004H24V0.333374H5.33333Z"
                                            fill="#131314" />
                                    </svg>
                                </li>
                                <li class="tab-div" onclick={handleMenuTabClick} data-tab-id="2">
                                    <svg class="menusvg" width="24" height="24" viewBox="0 0 24 24" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path data-tab-index="2" fill-rule="evenodd" clip-rule="evenodd"
                                            d="M8 13.3333C8.70724 13.3333 9.38552 13.6143 9.88562 14.1144C10.3857 14.6145 10.6667 15.2928 10.6667 16V21.3333C10.6667 22.0406 10.3857 22.7189 9.88562 23.219C9.38552 23.719 8.70724 24 8 24H2.66667C1.95942 24 1.28115 23.719 0.781048 23.219C0.280951 22.7189 0 22.0406 0 21.3333V16C0 15.2928 0.280951 14.6145 0.781048 14.1144C1.28115 13.6143 1.95942 13.3333 2.66667 13.3333H8ZM21.3333 13.3333C22.0406 13.3333 22.7189 13.6143 23.219 14.1144C23.719 14.6145 24 15.2928 24 16V21.3333C24 22.0406 23.719 22.7189 23.219 23.219C22.7189 23.719 22.0406 24 21.3333 24H16C15.2928 24 14.6145 23.719 14.1144 23.219C13.6143 22.7189 13.3333 22.0406 13.3333 21.3333V16C13.3333 15.2928 13.6143 14.6145 14.1144 14.1144C14.6145 13.6143 15.2928 13.3333 16 13.3333H21.3333ZM8 0C8.70724 0 9.38552 0.280951 9.88562 0.781048C10.3857 1.28115 10.6667 1.95942 10.6667 2.66667V8C10.6667 8.70724 10.3857 9.38552 9.88562 9.88562C9.38552 10.3857 8.70724 10.6667 8 10.6667H2.66667C1.95942 10.6667 1.28115 10.3857 0.781048 9.88562C0.280951 9.38552 0 8.70724 0 8V2.66667C0 1.95942 0.280951 1.28115 0.781048 0.781048C1.28115 0.280951 1.95942 0 2.66667 0H8ZM21.3333 0C22.0406 0 22.7189 0.280951 23.219 0.781048C23.719 1.28115 24 1.95942 24 2.66667V8C24 8.70724 23.719 9.38552 23.219 9.88562C22.7189 10.3857 22.0406 10.6667 21.3333 10.6667H16C15.2928 10.6667 14.6145 10.3857 14.1144 9.88562C13.6143 9.38552 13.3333 8.70724 13.3333 8V2.66667C13.3333 1.95942 13.6143 1.28115 14.1144 0.781048C14.6145 0.280951 15.2928 0 16 0H21.3333Z"
                                            fill="white" />
                                    </svg>
                                </li>
                                <li class="tab-div" onclick={handleMenuTabClick} data-tab-id="3">
                                    <svg class="menusvg" width="24" height="25" viewBox="0 0 24 25" fill="none"
                                        xmlns="http://www.w3.org/2000/svg">
                                        <path data-tab-index="3"
                                            d="M18 0C14.7 0 12 2.7 12 6C12 6.992 12.383 8.004 12.875 9.125C13.396 10.2913 13.9802 11.4283 14.625 12.531C15.4274 13.907 16.2823 15.2517 17.188 16.562L18 17.75L18.813 16.562C18.813 16.562 20.102 14.727 21.375 12.532C22.0199 11.429 22.6041 10.2917 23.125 9.125C23.617 8.004 24 6.992 24 6C24 2.7 21.3 0 18 0ZM7.969 1.938L0 5.344V24.53L8.031 21.062L16.031 24.062L24 20.655V11.937C23.38 13.1092 22.7128 14.2558 22 15.374V19.343L17 21.468V19.843L15.531 17.718C15.3523 17.4585 15.1753 17.1978 15 16.936V21.561L9 19.311V4.438L10.094 4.845C10.1873 4.17893 10.3657 3.5276 10.625 2.907L7.969 1.938ZM18 2C20.219 2 22 3.781 22 6C22 6.387 21.758 7.3 21.312 8.313C20.867 9.324 20.238 10.473 19.625 11.531C18.809 12.937 18.457 13.437 18 14.125C17.543 13.437 17.191 12.937 16.375 11.531C15.762 10.473 15.133 9.324 14.687 8.312C14.242 7.302 14 6.387 14 6C14 3.781 15.781 2 18 2ZM7 4.5V19.344L2 21.469V6.656L7 4.5ZM18 4.5C17.6022 4.5 17.2206 4.65804 16.9393 4.93934C16.658 5.22064 16.5 5.60218 16.5 6C16.5 6.39782 16.658 6.77936 16.9393 7.06066C17.2206 7.34196 17.6022 7.5 18 7.5C18.3978 7.5 18.7794 7.34196 19.0607 7.06066C19.342 6.77936 19.5 6.39782 19.5 6C19.5 5.60218 19.342 5.22064 19.0607 4.93934C18.7794 4.65804 18.3978 4.5 18 4.5Z"
                                            fill="#131314" />
                                    </svg>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="btn-container">
                        <button class="btn mapping-btn" onclick={openConfigureSettings}>
                            <svg fill="white" height="18px" width="18px" version="1.1" viewBox="0 0 512.003 512.003">
                                <g>
                                    <path d="M491.584,192.579l-55.918-6.914c-0.919-2.351-1.884-4.682-2.892-6.993l34.648-44.428
                                        c7.227-9.267,6.412-22.464-1.899-30.773l-57.028-56.996c-8.308-8.304-21.502-9.114-30.763-1.893L333.32,79.216
                                        c-2.312-1.008-4.644-1.974-6.994-2.894l-6.915-55.904c-1.443-11.66-11.348-20.415-23.097-20.415h-80.637
                                        c-11.748,0-21.656,8.755-23.097,20.416l-6.914,55.904c-2.349,0.919-4.681,1.884-6.988,2.89l-44.415-34.642
                                        c-9.261-7.222-22.458-6.414-30.768,1.894l-57.021,57.009c-8.31,8.307-9.123,21.506-1.896,30.771l34.644,44.417
                                        c-1.012,2.312-1.978,4.647-2.9,7.002l-55.906,6.914C8.757,194.022,0,203.927,0,215.676v80.64c0,11.75,8.758,21.658,20.421,23.097
                                        l55.901,6.903c0.919,2.352,1.884,4.686,2.894,6.994l-34.641,44.417c-7.224,9.264-6.411,22.46,1.894,30.767l57.021,57.031
                                        c8.307,8.31,21.507,9.121,30.773,1.896l44.417-34.648c2.306,1.007,4.638,1.974,6.987,2.891l6.914,55.921
                                        c1.441,11.66,11.348,20.416,23.097,20.416h80.637c11.748,0,21.655-8.755,23.097-20.416l6.915-55.92
                                        c2.351-0.92,4.682-1.885,6.993-2.892l44.425,34.65c9.266,7.225,22.463,6.414,30.771-1.898l57.015-57.031
                                        c8.307-8.308,9.117-21.504,1.893-30.768l-34.641-44.409c1.012-2.313,1.978-4.647,2.898-7.002l55.901-6.903
                                        c11.661-1.44,20.421-11.348,20.421-23.097v-80.64C512,203.927,503.243,194.022,491.584,192.579z M465.455,275.74l-49.864,6.158
                                        c-9.151,1.131-16.772,7.556-19.431,16.386c-2.813,9.337-6.56,18.387-11.138,26.903c-4.367,8.124-3.525,18.063,2.147,25.335
                                        l30.898,39.613l-27.924,27.932l-39.621-30.905c-7.269-5.668-17.202-6.513-25.327-2.15c-8.513,4.572-17.565,8.319-26.905,11.134
                                        c-8.827,2.661-15.25,10.279-16.381,19.427l-6.169,49.883h-39.492l-6.167-49.883c-1.131-9.146-7.551-16.763-16.375-19.425
                                        c-9.367-2.825-18.417-6.571-26.899-11.132c-8.122-4.369-18.061-3.527-25.336,2.147l-39.615,30.902L93.929,390.13l30.897-39.618
                                        c5.671-7.273,6.513-17.206,2.147-25.328c-4.568-8.501-8.315-17.554-11.137-26.911c-2.662-8.825-10.282-15.247-19.430-16.376
                                        l-49.861-6.156v-39.492l49.866-6.167c9.146-1.131,16.763-7.551,19.423-16.375c2.824-9.356,6.572-18.406,11.143-26.9
                                        c4.374-8.124,3.533-18.067-2.143-25.342l-30.903-39.62l27.924-27.918l39.62,30.902c7.273,5.672,17.209,6.513,25.335,2.146
                                        c8.493-4.565,17.541-8.31,26.896-11.132c8.825-2.662,15.247-10.279,16.378-19.427l6.166-49.867h39.494l6.169,49.869
                                        c1.133,9.148,7.557,16.767,16.384,19.427c9.328,2.811,18.379,6.557,26.902,11.135c8.122,4.364,18.055,3.522,25.325-2.149
                                        l39.616-30.894l27.927,27.912l-30.897,39.618c-5.666,7.267-6.513,17.191-2.158,25.311c4.58,8.54,8.328,17.599,11.138,26.923
                                        c2.661,8.825,10.279,15.248,19.427,16.381l49.878,6.169V275.74z"/>
                                    <path d="M255.997,155.153c-55.606,0-100.845,45.244-100.845,100.856c0,55.603,45.239,100.839,100.845,100.839
                                        c55.609,0,100.852-45.236,100.852-100.839C356.849,200.397,311.606,155.153,255.997,155.153z M255.997,310.303
                                        c-29.941,0-54.3-24.356-54.3-54.294c0-29.947,24.359-54.311,54.3-54.311c29.944,0,54.306,24.363,54.306,54.311
                                        C310.303,285.947,285.941,310.303,255.997,310.303z"/>
                                </g>
                            </svg>
                                Settings
                        </button>

                        <template if:true={isConfigOpen}>
                            <c-record-config-body-cmp feature-name="Listing_Configuration"
                                onclose={handleCloseModal}></c-record-config-body-cmp>
                        </template>
                    </div>

                    <div class="open-mapping-div" onclick={handleInsideClick}>

                        <template if:true={hideFilterButton}>
                            <button class="btn mapping-btn" onclick={showModalBox}>
                                <svg width="18px" height="18px" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg" >
                                    <path fill-rule="evenodd" clip-rule="evenodd" 
                                        d="M3 7C3 6.44772 3.44772 6 4 6H20C20.5523 6 21 6.44772 21 7C21 7.55228 20.5523 8 20 8H4C3.44772 8 3 7.55228 3 7ZM6 12C6 11.4477 6.44772 11 7 11H17C17.5523 11 18 11.4477 18 12C18 12.5523 17.5523 13 17 13H7C6.44772 13 6 12.5523 6 12ZM9 17C9 16.4477 9.44772 16 10 16H14C14.5523 16 15 16.4477 15 17C15 17.5523 14.5523 18 14 18H10C9.44772 18 9 17.5523 9 17Z" 
                                        fill="white"/>
                                </svg>
                                Filters
                            </button>
                        </template>

                        <template if:true={isShowModal}>
                            <div class="filter-div">
                                <div class="filter-fields">
                                    <div class="filter-header">
                                        Filter Listings
                                    </div>
                                    <div class="scroll-div">
                                        <div class="slds-form_element">
                                            <lightning-combobox name="conditionType" label="Condition Type"
                                                value={selectedConditionType} options={conditionOptions}
                                                onchange={handleConditionTypeChange}>
                                            </lightning-combobox>
                                        </div>

                                        <template if:true={isCustomLogicSelected}>
                                            <div class="slds-form_element slds-m-top_medium">
                                                <label><span class="required-class">*</span>Logical Expression</label>
                                                <lightning-input variant="label-hidden" data-id="condition-input"
                                                    value={logicalExpression} onchange={handleLogicalExpressionChange}
                                                    placeholder="Enter logical expression">
                                                </lightning-input>
                                            </div>
                                        </template>

                                        <div class="slds-m-top_medium">
                                            <template if:false={mappings.length}>
                                                <p
                                                    class="slds-text-align_center slds-text-color_weak slds-p-around_medium">
                                                    No filters applied.</p>
                                            </template>

                                            <template for:each={mappings} for:item="mapping">


                                                <div key={mapping.id} class="parent-div">
                                                    <div class={mappingClass} onclick={handleMappingClick}
                                                        data-name="mapping-box" data-id={mapping.id}>
                                                        <span class="mapping-id">{mapping.id}</span>

                                                        <div class="mapping-data" data-id={mapping.id}>
                                                            {mapping.label} <br>
                                                            {mapping.displayOperator} " {mapping.valueField} "

                                                        </div>
                                                        <div class="delete-div" title="Delete" data-id={mapping.id}
                                                            onclick={handleDeleteMapping} data-name="delete">
                                                            <svg width="24" height="24" viewBox="0 0 24 24" fill="none"
                                                                xmlns="http://www.w3.org/2000/svg" data-id={mapping.id}>
                                                                <path d="M3 6H5H21" stroke="#A30D11" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path
                                                                    d="M8 6V4C8 3.46957 8.21071 2.96086 8.58579 2.58579C8.96086 2.21071 9.46957 2 10 2H14C14.5304 2 15.0391 2.21071 15.4142 2.58579C15.7893 2.96086 16 3.46957 16 4V6M19 6V20C19 20.5304 18.7893 21.0391 18.4142 21.4142C18.0391 21.7893 17.5304 22 17 22H7C6.46957 22 5.96086 21.7893 5.58579 21.4142C5.21071 21.0391 5 20.5304 5 20V6H19Z"
                                                                    stroke="#A30D11" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M10 11V17" stroke="#A30D11" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                                <path d="M14 11V17" stroke="#A30D11" stroke-width="2"
                                                                    stroke-linecap="round" stroke-linejoin="round" />
                                                            </svg>

                                                            <span class="slds-assistive-text">Delete</span>
                                                        </div>
                                                    </div>

                                                </div>

                                            </template>
                                        </div>
                                    </div>

                                </div>
                                <div class="filter-footer">
                                    <div class="add-condtion">
                                        <button class="btn modal-btn-blue" onclick={addCondition}
                                            disabled={isRealatedList}>Add Condition</button>
                                        <template if:true={isAddConditionModalVisible}>
                                            <div class="condition-div">
                                                <div class="filter-header">
                                                    Configure Condition
                                                </div>
                                                <div class="condition-div-body">
                                                    <div class="slds-form_element">
                                                        <lightning-combobox name="listingField" label="Listing Field"
                                                            value={listingFieldObject.MVEX__Field_Name__c}
                                                            options={listingpicklistOptions}
                                                            onchange={handleInquiryFieldChange} required>
                                                        </lightning-combobox>
                                                    </div>

                                                    <div class="slds-form_element slds-m-top_medium">
                                                        <lightning-combobox name="conditionOperator" label="Condition"
                                                            value={selectedConditionOperator}
                                                            options={conditionOperatorOptions}
                                                            onchange={handleConditionOperatorChange} required>
                                                        </lightning-combobox>
                                                    </div>

                                                    <div class="slds-form_element slds-m-top_medium">
                                                        <lightning-input type="checkbox" label="Use Constant Value"
                                                            checked={isConstant}
                                                            onchange={handleUseConstantChange}></lightning-input>
                                                    </div>

                                                    <div class="slds-form_element slds-m-top_medium">
                                                        <label><span class="red">*</span>Value</label>
                                                        <template if:true={isConstant}>
                                                            <template if:true={listingFieldObject.isPrimary}>
                                                                <lightning-input
                                                                    type={listingFieldObject.MVEX__Data_Type__c}
                                                                    value={selectedInquiryValue}
                                                                    data-field="MVEX__Value__c"
                                                                    onchange={handleListingFieldChange}
                                                                    variant="label-hidden"></lightning-input>
                                                            </template>
                                                            <template if:true={listingFieldObject.isPicklist}>
                                                                <lightning-combobox value={selectedInquiryValue}
                                                                    data-field="MVEX__Value__c"
                                                                    options={listingFieldObject.picklistValues}
                                                                    onchange={handleListingFieldChange}
                                                                    variant="label-hidden"></lightning-combobox>
                                                            </template>
                                                            <template if:true={listingFieldObject.isReference}>
                                                                <lightning-record-picker value={selectedInquiryValue}
                                                                    label="Reference" data-field="MVEX__Value__c"
                                                                    object-api-name={listingFieldObject.objectApiName}
                                                                    onchange={handleRefChange}
                                                                    variant="label-hidden"></lightning-record-picker>
                                                            </template>
                                                        </template>
                                                        <template if:false={isConstant}>
                                                            <lightning-combobox value={selectedInquiryValue}
                                                                data-field="MVEX__Value__c"
                                                                options={inquiryFieldOptions}
                                                                onchange={handleListingFieldChange}
                                                                variant="label-hidden"
                                                                placeholder="Select Inquiry Field"></lightning-combobox>
                                                        </template>
                                                    </div>
                                                </div>
                                                <div class="condition-div-footer">
                                                    <button class="btn modal-btn-white"
                                                        onclick={closeAddConditionModal}>Cancel</button>
                                                    <button class="btn modal-btn-blue"
                                                        onclick={saveCondition}>Save</button>
                                                </div>
                                                <div class="arrow"></div>
                                            </div>
                                        </template>
                                    </div>
                                    <div class="custom__footer">
                                        <button class="btn modal-btn-white" onclick={hideModalBox}>Cancel</button>
                                        <button class="btn modal-btn-blue" onclick={applyModalFilters}>Apply</button>
                                    </div>
                                </div>
                            </div>

                        </template>
                    </div>
                </div>
            </div>
        </div>

        <div class="data-table-container">
            <template if:true={pagedProperties.length}>
                <template if:true={isListView}>
                    <table class="custom-data-table">
                        <thead>
                            <tr>
                                <template for:each={tableColumns} for:item="column">
                                    <th key={column.fieldName} class="header-cell slds-truncate">{column.label}</th>
                                </template>
                            </tr>
                        </thead>
                        <tbody>
                            <template for:each={pagedProperties} for:item="property">
                                <tr key={property.id}>
                                    <template for:each={property.displayFields} for:item="field">
                                        <td key={field.key} class="slds-truncate">
                                            <template if:true={field.isImage}>
                                                <img src={property.media_url} alt="Property image" class="listing-image"
                                                    draggable="false" />
                                            </template>
                                            <!-- <template if:true={field.isAction}>
                                                <button class="view-more-button slds-truncate" data-id={property.id}
                                                    onclick={navigateToRecord}>View More</button>
                                            </template> -->
                                            <template if:false={field.isImage}>
                                                <template if:false={field.isAction}>
                                                    <template if:true={field.hasValue}>
                                                        <template if:true={field.isNameField}>
                                                            <a href="javascript:void(0)" data-id={property.id}
                                                                onclick={navigateToRecord}>{field.value}</a>
                                                        </template>
                                                        <template if:false={field.isNameField}>
                                                            <template if:true={field.isCurrency}>
                                                                {property.CurrencyIsoCode} {field.value}
                                                            </template>
                                                            <template if:false={field.isCurrency}>
                                                                {field.value}
                                                            </template>
                                                        </template>
                                                    </template>
                                                    <template if:false={field.hasValue}>
                                                        <template if:true={field.isCurrency}>
                                                            TBD
                                                        </template>
                                                    </template>
                                                </template>
                                            </template>
                                        </td>
                                    </template>
                                </tr>
                            </template>
                        </tbody>
                    </table>
                </template>

                <template if:true={isGridView}>
                    <div class="custom-grid">
                        <template for:each={pagedProperties} for:item="property">
                            <div class="card" key={property.id}>
                                <div class="property-item">
                                    <img class="property-image card-img-top" src={property.media_url}
                                        alt="Property image" draggable="false"></img>
                                    <div class="property_type">
                                        <p>For {property.mvex__listing_type__c}</p>
                                    </div>
                                    <div class="card-body details">
                                        <h5 class="card-title"><b>{property.name}</b></h5>
                                        <div class="card-text">
                                            <img src={location_icon} height="18px" width="18px" draggable="false" />
                                            <p class="slds-m-left_xx-small">{property.mvex__city__c},
                                                {property.mvex__state__c},
                                                {property.mvex__postalcode__c}</p>
                                        </div>
                                        <div class="room_details">
                                            <lightning-layout-item class="bedroom">
                                                <img src={bedroom_icon} height="24px" width="20px" draggable="false" />
                                                <h1 class="slds-m-left_xx-small">{property.mvex__bedrooms__c} Bedrooms
                                                </h1>
                                            </lightning-layout-item>
                                            <lightning-layout-item class="bathroom" alignment-bump="left">
                                                <img src={bathroom_icon} class="bathroom_icon" draggable="false" />
                                                <h1 class="slds-m-left_xx-small">{property.mvex__bathrooms__c} Bathrooms
                                                </h1>
                                            </lightning-layout-item>
                                        </div>
                                    </div>
                                    <div class="card-body">
                                        <lightning-layout-item class="item-1">
                                            <p class="card-link"><b>
                                                    <template if:true={property.mvex__listing_price__c}>
                                                        {property.CurrencyIsoCode} {property.mvex__listing_price__c}
                                                    </template>
                                                    <template if:false={property.mvex__listing_price__c}>
                                                        TBD
                                                    </template>
                                                </b></p>
                                        </lightning-layout-item>
                                    </div>
                                </div>
                            </div>
                        </template>
                    </div>
                </template>

                <template if:true={isMapView}>
                    <div class="main">
                        <lightning-map class="mapmarker slds-size_6-of-6" map-markers={mapMarkers} list-view="visible">
                        </lightning-map>
                    </div>
                </template>
            </template>

            <template if:false={pagedProperties.length}>
                <div class="no-prop">
                    <img src={NoDataImageUrl} class="no-data-img" alt="No Data Found">
                    <p>No Listing found. Please change your search filters and try again.</p>
                </div>
            </template>
        </div>

        <template if:true={pagedProperties.length}>
            <div class="pagination-container">
                <button class="pagination-button" disabled={isFirstPage} onclick={handlePrevious}>
                    <svg xmlns="http://www.w3.org/2000/svg" height="52" width="52" viewBox="0 0 520 520" fill="#fff">
                        <path
                            d="M342 477 134 272c-6-6-6-16 0-22L342 45c6-6 16-6 22 0l22 22c6 6 6 16 0 22L221 250c-6 6-6 16 0 22l163 161c6 6 6 16 0 22l-22 22c-5 5-14 5-20 0z" />
                    </svg>
                    Previous
                </button>

                <template for:each={pageNumbers} for:item="page">
                    <template if:false={page.isEllipsis}>
                        <button key={page.number} data-id={page.number} class={page.className}
                            onclick={handlePageChange}>
                            {page.number}
                        </button>
                    </template>
                    <template if:true={page.isEllipsis}>
                        <span key={page.number} class="pagination-ellipsis">...</span>
                    </template>
                </template>

                <button class="pagination-button" disabled={isLastPage} onclick={handleNext}>
                    Next
                    <svg xmlns="http://www.w3.org/2000/svg" height="52" width="52" viewBox="0 0 520 520" fill="#fff">
                        <path
                            d="m179 44 207 205c6 6 6 16 0 22L179 476c-6 6-16 6-22 0l-22-22c-6-6-6-16 0-22l163-161c6-6 6-16 0-22L136 88c-6-6-6-16 0-22l22-22c6-5 15-5 21 0z" />
                    </svg>
                </button>
            </div>
        </template>
    </div>
</template>